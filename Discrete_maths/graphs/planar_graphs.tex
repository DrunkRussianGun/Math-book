\subsection{Планарность графов}
\index{Графы!плоские} \textbf{Плоским} называется граф~$G = (V, E)$ такой, что:
\begin{itemize}
	\item $V \subset \mathbb R^2$;
	\item рёбра~--- кривые, концами которых являются вершины;
	\item различные рёбра не имеют общих точек, за исключением концов.
\end{itemize}

\index{Графы!планарные}\textbf{Планарным} называется граф, изоморфный плоскому.

Если $G$~--- граф и $G'$~--- плоский граф, изоморфный $G$, то $G'$ называется \textbf{укладкой $G$} в~$\mathbb R^2$.

Аналогично можно определить плоский граф в~$\mathbb R^3$, на~сфере и~т.\,д.

\begin{theorem}
Любой граф можно уложить в~$\mathbb R^3$.
\end{theorem}
\begin{proof}
Пусть $G = (V, E)$~--- граф, $V = \{ (1, 0, 0), (2, 0, 0), \ldots, (n, 0, 0) \}$.
Рассмотрим плоскости, проходящие через~$Ox$ и образующие с плоскостью~$Oxy$ углы
$\dfrac\pi2, \dfrac\pi{2\cdot2}, \ldots, \dfrac\pi{2m}$, где $m = |E|$.
Получим плоский граф, т.\,к. плоскости пересекаются только по прямой~$Ox$.
\end{proof}

\begin{floatingfigure}[r]{71mm}
\noindent
$\begin{xy} /r8mm/:
(-4, 0); (4.5, 0) **@{-} *@{>} *++!U{y}; % ось y
(0, -1.3); (0, 4) **@{-} *@{>} *++!R{z}; % ось z
(2, 3); (-1.3333, -2) **@{-} *@{>} *++!LU{x}; % ось x
(-4, -1.5) = "1"; (2, -1.5) = "2" **@{-};
(2.3333, 3.5) = "off";
"1"; "1"+"off" = "3" **@{-};
"2"; "2"+"off" = "4" **@{-};
"3"; "4" **@{-};
(0, 1.5) *\cir<12mm>{};
(0, 0) *{\bullet} *++!LU{O};
(0, 3) *{\bullet} *++!DL{N};
(-0.6, 0.75) = "sph" **@{--} *{\bullet};
"sph"; (-1.1467, -1) **@{-} *{\bullet};
\end{xy}$
\end{floatingfigure}
\begin{theorem}
Граф укладывается на~плоскость $\Leftrightarrow$ он укладывается на~сферу.
\end{theorem}
\begin{proof}
Пусть плоскость~$z = 0$ касается сферы в точке~$O(0, 0, 0)$, $N$~--- точка на~сфере, диаметрально противоположная точке~$O$.
Для каждой точки сферы, не совпадающей с~$N$, проведём прямую через неё и точку~$N$, которая пересечёт сферу и плоскость, причём любые две из таких прямых имеют единственную общую точку~$N$.
Получим биекцию между точками сферы и точками плоскости, тогда можно построить биекцию между укладками на сфере и укладками на плоскости.
\end{proof}

Множество на плоскости называется \textbf{линейно связным}, если любые две точки этого множества можно соединить кривой, целиком лежащей в~этом множестве.

\textbf{Гранью плоского графа~$G = (V, E)$} называется часть множества~$\mathbb R^2 \setminus G$, которая линейно связна и не является подмножеством другого линейно связного множества.

\index{Формула!Эйлера!в~теории графов}
\begin{theorem}[формула Эйлера]
В~плоском связном графе $n - m + f = 2$, где $n, m, f$~--- число вершин, рёбер и граней соответственно.
\end{theorem}
\begin{proof}
Рассмотрим остов данного графа.
В~нём $n$~вершин, $n - 1$~рёбер и $1$~грань.
Формула Эйлера верна для него: $n - (n - 1) + 1 = 2$.

Добавим $1$~ребро данного графа, тогда оно разобьёт одну грань на две, т.\,е. число граней увеличится на~$1$.
Формула Эйлера верна для полученного графа.
Повторяя $m - (n - 1)$~раз, получим исходный граф, для которого формула Эйлера верна.
\end{proof}

\begin{theorem}
\label{th:property_of_planarity_of_graph}
Пусть $G$~--- планарный граф с $n \geqslant 3$~вершинами и $m$~рёбрами. Тогда $m \leqslant 3n - 6$.
\end{theorem}
\begin{proof}
При $m = 2$ неравенство выполняется.

Пусть в~графе $f$~граней, $m_i$~--- число рёбер в~границе $i$\nobreakdash-й грани.
Тогда $m_i \geqslant 3$, $\displaystyle \sum_{i=1}^f m_i \geqslant 3f$.
С~другой стороны, $\displaystyle \sum_{i=1}^f m_i \leqslant 2m$, т.\,к. каждое ребро является границей для не более чем $2$ граней.
По формуле Эйлера $n - m + f = 2 \Leftrightarrow f = m + 2 - n$.
Получим:
\begin{equation*}
2m \geqslant 3f \Leftrightarrow 2m \geqslant 3m + 6 - 3n \Leftrightarrow m \leqslant 3n - 6
\end{equation*}
\end{proof}

\begin{consequent}
Планарный граф~$G = (V, E)$ содержит хотя~бы одну вершину со~степенью, не большей~$5$.
\end{consequent}
\begin{proofcontra}
Пусть $\forall v \in V \ \deg v \geqslant 6$, $|V| = n$, $|E| = m$, тогда
$\displaystyle m = \frac12 \sum_{v \in V} \deg v \geqslant 3n$.
Имеем:
\begin{equation*}
3n \leqslant m \leqslant 3n - 6 \Rightarrow 0 \leqslant -6
\end{equation*}

Противоречие.
\end{proofcontra}

\begin{theorem}
Графы $K_5$ и $K_{3,3}$ не планарные.
\end{theorem}
\begin{proof}
\begin{itemize}
	\item Рассмотрим $K_5$: $n = 5$, $m = 10$.
	Тогда $m \leqslant 3n - 6 \Leftrightarrow 10 \leqslant 9$.	
	Неверно, значит, $K_5$ не планарен.
	\item Рассмотрим $K_{3,3}$.
	Пусть он планарный.
	В~нём самый короткий цикл имеет длину~$4$.
	Тогда рассуждениями, аналогичными рассуждениям при доказательстве теоремы~\ref*{th:property_of_planarity_of_graph}, получим
	\begin{equation*}
	2m \geqslant 4f \Leftrightarrow 2m \geqslant 4m + 8 - 4n \Leftrightarrow m \leqslant 2n - 4
	\end{equation*}
	
	$n = 6$, $m = 9$, тогда $9 \leqslant 8$.
	Неверно, значит, $K_{3,3}$ не планарен.
\end{itemize}
\end{proof}

Граф~$G' = (V', E')$ получается \textbf{подразбиением ребра~$e = \{ u, v \}$} графа~$G = (V, E)$, если:
\begin{itemize}
	\item $V' = V \cup \{ u' \}$;
	\item $E' = (E \setminus \{ e \}) \cup \{ \{ u, u' \}, \{ v, u' \} \}$.
\end{itemize}

\index{Графы!гомеоморфные} Графы $G$ и $G'$ \textbf{гомеоморфны}, если они изоморфны графам, получающимся подразбиениями рёбер одного и того~же графа.

\index{Теорема!Понтрягина---Куратовского}
\begin{theorem}[Понтрягина---Куратовского]
Граф~$G$ планарен $\Leftrightarrow$ он не содержит подграфов, гомеоморфных $K_5$ или $K_{3,3}$.
\end{theorem}
\begin{proof}
\begin{enumerate}
	\item $\Rightarrow$. Очевидно, что подграф планарного графа планарен.
	Если $G$~--- планарный граф, содержащий подграф $G'$, гомеоморфный $K_5$ или $K_{3,3}$, то $G'$ тоже планарный, значит, $K_5$ или $K_{3,3}$ планарен, т.\,к. подразбиение ребёр не влияет на планарность.
	Противоречие, значит, $G$ не планарен.
	\item $\Leftarrow$. Доказательство слишком сложно, поэтому здесь не приводится.
\end{enumerate}
\end{proof}