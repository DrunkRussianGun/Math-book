% Стилевой файл
% - новые команды:
%	- \opbr{математический знак} (operator break) — разрешает перенос строки на данном знаке,
%	  автоматически дублируя его на следующей;
%	- \mult и \notmult — знак кратности в математической моде;
%	- \bigand — n-арная версия \land (печатается увеличенным символом);
%	- \lAnd — знак конъюнкции для связывания высказываний;
%	- \lOr — знак дизъюнкции для связывания высказываний;
%	- \Arg — печатает Arg в математической моде;
%	- \grad — печатает grad в математической моде;
%	- \sgn — печатает sgn в математической моде;
%	- \indbase (induction base) — оформление базы математической индукции;
%	- \indstep (induction step) — оформление шага математической индукции;
%	- \indend (induction end) — конец метода математической индукции.
% - переопределённые команды:
%	- \* — работает аналогично \opbr\cdot, но при отсутствии переноса строки ничего не делает;
%	- \land — теперь печатает &.
% - новые окружения:
%	- statement для утверждений;
%	- lemma для лемм;
%	- theorem для теорем;
%	- consequent для следствий;
%	- proof[пояснение] для доказательств;
%	- proofmathind для доказательств методом математической индукции;
%	- proofcontra для доказательств методом от противного.

\usepackage[intlimits]{amsmath}
\usepackage{amsfonts,amssymb}
\usepackage{scalerel} % увеличение размера символов
\usepackage{xparse} % продвинутое создание окружений

\newcommand\opbr[1]
	{#1\nobreak\discretionary{}{\hbox{\ensuremath{#1}}}{}}

\newcommand\mult{\mathrel{\raise -0.6mm\hbox{\vdots}}}
\newcommand\notmult{\mathrel{{\mkern -0.2mu\not}\mult}}

\renewcommand\land{\mathbin{\&}}
\newcommand\bigand{\mathop{\scalerel*{\&}{\sum}}}
\newcommand\lAnd{\mathrel{\&}}
\newcommand\lOr{\mathrel{\lor}}

\DeclareMathOperator\Arg{Arg}
\DeclareMathOperator\grad{grad}
\DeclareMathOperator\sgn{sgn}
	
\newcommand\indbase
	{\begin{itemize}
	\item {\it База индукции.\ }}
\newcommand\indstep
	{\item {\it Шаг индукции.\ }}
\newcommand\indend
	{\end{itemize}}

\renewcommand{\*}
	{\discretionary{\hbox{\ensuremath{\cdot}}}{\hbox{\ensuremath{\cdot}}}{}}

\renewcommand{\@begintheorem}[2]
	{\par{\bf #1\ #2.\ }\samepage\begingroup\sl}
\renewcommand{\@opargbegintheorem}[3]
	{\par{\bf #1\ #2\ (#3).\ }\samepage\begingroup\sl}
\renewcommand{\@endtheorem}{\endgroup}

\newtheorem{statement}{Утверждение}[section]
\newtheorem{lemma}{Лемма}[section]
\newtheorem{theorem}{Теорема}[section]
\newtheorem{consequent}{Следствие}[section]
\NewDocumentEnvironment{proof}{o}
	{\par{\bf Доказательство\IfNoValueTF{#1}{}{ #1}.}}
	{$\scriptstyle\blacksquare$}
\newenvironment{proofmathind}
	{\par{\bf Доказательство методом математической индукции.}}
	{$\scriptstyle\blacksquare$}
\newenvironment{proofcontra}
	{\par{\bf Доказательство методом от противного.}}
	{$\scriptstyle\blacksquare$}