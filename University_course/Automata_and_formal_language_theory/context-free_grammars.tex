\section{Контекстно-свободные грамматики}
\index{Грамматика!контекстно-свободная} \index{Сокращения!КС-грамматика} \textbf{Контекстно"=свободной грамматикой}, или \textbf{КС"=грамматикой}, называется набор~$(V, X, P, S)$, где\\
$V$~--- конечное множество \textbf{переменных}, представляющих языки;\\
$X$~--- конечное множество \textbf{терминальных символов}, или \textbf{терминалов};\\
$P$~--- конечное множество \textbf{продукций}~--- правил вывода вида~$A \to B$, в результате которого $A$ заменяется на~$B$;\\
$S$~--- \textbf{стартовый символ}~--- переменная, представляющая определяемый язык.

Говорят, что \textbf{язык~$L$ задаётся КС"=грамматикой~$(V, X, P, S)$}, если $\alpha \in L$ $\Leftrightarrow$ $\alpha$ может быть получено в результате конечного числа применений продукций из~$P$ к~$S$.

\index{Язык!контекстно-свободный} Язык называется \textbf{контекстно"=свободным}, или \textbf{КС"=языком}, если он может быть задан КС"=грамматикой.

\textbf{Деревом разбора для КС"=грамматики~$G = (V, X, P, S)$} называется дерево такое, что:
\begin{enumerate}
	\item Каждый внутренний узел отмечен переменной из~$V$.
	\item Каждый лист отмечен либо переменной из~$V$, либо терминалом, либо $\lambda$.
	Если он отмечен $\lambda$, то он должен быть единственным потомком своего родителя.
	\item Если внутренний узел отмечен $A$, а его потомки~--- $X_1, X_2, \ldots, X_k$ слева направо, то $(A \to X_1 X_2 \ldots X_k) \in P$.
\end{enumerate}

КС"=грамматика называется \textbf{неоднозначной}, если она содержит слово, для которого можно построить несколько деревьев разбора, иначе~--- \textbf{однозначной}.

\begin{theorem}
\begin{enumerate}
	\item Все КС"=языки распознаются автоматами с магазинной памятью.
	\item Все автоматы с магазинной памятью задают КС"=языки.
\end{enumerate}
\end{theorem}

\begin{statement}
Язык $\{ a^n b^n \mid n \geqslant 0 \}$~--- нерегулярный и контекстно"=свободный.
\end{statement}
\begin{proof}
Данный язык задаётся КС"=грамматикой~$(\{ S \}, \{ a, b \}, \{ S \to \lambda, S \to aSb \}, S)$.
\end{proof}

\begin{statement}
Язык $L = \{ a^n b^n c^n \mid n \geqslant 0 \}$~--- не контекстно"=свободный.
\end{statement}
\begin{proof}[(нестрогое)]
С помощью МП"=автомата можно распознать язык~$\{ a^n b^n \mid n \geqslant 0 \}$.
Но чтобы распознать язык~$L$, понадобился бы ещё один магазин, поэтому $L$ не контекстно"=свободный.
\end{proof}

Пусть языки $L_1$ и $L_2$ заданы КС"=грамматиками $(V_1, X, P_1, S_1)$ и $(V_2, X, P_2, S_2)$ соответственно.
\begin{itemize}
	\item $\varnothing$ задаётся $(\{ S \}, X, \{ S \to S \}, S)$.
	\item $\{ \lambda \}$ задаётся $(\{ S \}, X, \{ S \to \lambda \}, S)$.
	\item $\{ x \}$ задаётся $(\{ S \}, X, \{ S \to x \}, S)$, где $x \in X$.
	\item $L_1 \cup L_2$ задаётся $(V_1 \cup V_2 \cup \{ S \}, X, P_1 \cup P_2 \cup \{ S \to S_1, S \to S_2 \}, S)$.
	\item $L_1 L_2$ задаётся $(V_1 \cup V_2 \cup \{ S \}, X, P_1 \cup P_2 \cup \{ S \to S_1 S_2 \}, S)$.
	\item $L_1^*$ задаётся $(V_1 \cup \{ S \}, X, P_1 \cup \{ S \to \lambda, S \to S S_1 \}, S)$.
\end{itemize}

\begin{statement}
Существуют КС"=языки, пересечение которых не является КС"=языком.
\end{statement}
\begin{proof}
Рассмотрим КС"=языки $L_1 = \{ a^m b^m c^n \mid m, n \geqslant 0 \}$, $L_2 = \{ a^m b^n c^n \mid m, n \geqslant 0 \}$.
Тогда $L_1 \cap L_2 \opbr= \{ a^n b^n c^n \mid n \geqslant 0 \}$, а это не КС"=язык.
\end{proof}

\begin{consequent}
Существует КС"=язык, дополнение которого не является КС"=языком.
\end{consequent}
\begin{proofcontra}
Пусть $L_1$ и $L_2$~--- КС"=языки, тогда $L_1 \cap L_2 = \overline{\overline L_1 \cup \overline L_2}$~--- КС"=язык.
Противоречие.
\end{proofcontra}